<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formulário de Evento</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styleCadastroEventos.css" />
  </head>
  <body>
    <h1>Cadastro de Eventos</h1>

    <form id="eventoForm">
      <label for="estabelecimento">Estabelecimento:</label>
      <input type="text" id="estabelecimento" name="estabelecimento" required />
      <input
        type="text"
        id="estabelecimento"
        name="estabelecimento"
        required
      /><br /><br />

      <label for="tipoEvento">Tipo de Evento:</label>
      <input
        type="text"
        id="tipoEvento"
        name="tipoEvento"
        required
      /><br /><br />

      <label for="assuntoEmail">Assunto do E-mail:</label>
      <input
        type="text"
        id="assuntoEmail"
        name="assuntoEmail"
        required
      /><br /><br />

      <label for="remetenteEmail">Remetente do E-mail:</label>
      <input
        type="email"
        id="remetenteEmail"
        name="remetenteEmail"
        required
      /><br /><br />

      <label>Variáveis:</label><br />
      $01: Número Documento <span id="var01"></span> $02: Série Documento
      <span id="var02"></span> $03: Cod Fornecedor <span id="var03"></span> $04:
      Data Emissão <span id="var04"></span> $05: Valor Documento
      <span id="var05"></span> $06: Chave Documento
      <span id="var06"></span> $07: Descrição da Operação XML
      <span id="var07"></span><br />

      <label for="textoPadraoEmail">Texto Padrão do E-mail:</label><br />
      <textarea
        id="textoPadraoEmail"
        name="textoPadraoEmail"
        rows="4"
        cols="50"
        required
      ></textarea
      ><br /><br />

      <label for="destinatarios">Destinatários:</label><br />
      <textarea
        id="textoPadraoEmail"
        name="textoPadraoEmail"
        rows="4"
        cols="50"
        required
      ></textarea
      ><br /><br />

      <input type="submit" value="Gerar e-mail" />
    </form>

    <script>
      document
        .getElementById("eventoForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          // Coletar os valores do formulário
          var estabelecimento =
            document.getElementById("estabelecimento").value;
          var tipoEvento = document.getElementById("tipoEvento").value;
          var assuntoEmail = document.getElementById("assuntoEmail").value;
          var remetenteEmail = document.getElementById("remetenteEmail").value;
          var textoPadraoEmail =
            document.getElementById("textoPadraoEmail").value;

          // Gerar o conteúdo do e-mail HTML
          var emailHTML = `
            <html>
            <head>
                <title>${assuntoEmail}</title>
            </head>
            <body>
                <h2>${tipoEvento} no ${estabelecimento}</h2>
                <p>${textoPadraoEmail}</p>
                <p>Atenciosamente,<br>${remetenteEmail}</p>
            </body>
            </html>
        `;

          // Abrir um cliente de e-mail com o conteúdo gerado
          var emailWindow = window.open(
            "mailto:?subject=" +
              encodeURIComponent(assuntoEmail) +
              "&body=" +
              encodeURIComponent(emailHTML),
            "_blank"
          );
        });
    </script>
    <script src="scriptCadastroEventos.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </body>
</html>
